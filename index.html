<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Home</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Home</h1>

    



    


    <h3> </h3>










    




    <section>
        <article><h1>x-cacher</h1><p><a href="https://travis-ci.org/sqlwwx/x-cacher"><img src="https://travis-ci.org/sqlwwx/x-cacher.svg?branch=master" alt="Build Status"></a>
<a href="https://coveralls.io/github/sqlwwx/x-cacher?branch=master"><img src="https://coveralls.io/repos/github/sqlwwx/x-cacher/badge.svg?branch=master" alt="Coverage Status"></a>
<a href="https://greenkeeper.io/"><img src="https://badges.greenkeeper.io/sqlwwx/x-cacher.svg" alt="Greenkeeper badge"></a>
<img src="https://img.shields.io/npm/dt/x-cacher.svg" alt="npm">
<a href="https://codebeat.co/projects/github-com-sqlwwx-x-cacher-master"><img src="https://codebeat.co/badges/6af1b073-049c-49bd-9968-b5cf4c10381f" alt="codebeat badge"></a></p>
<h2>sample</h2><pre class="prettyprint source"><code>import { Cacher, cacherDes } from 'x-cacher'

const cacher = new Cacher([{ type: 'memory' }])

class Person {
  constructor (name) {
    this.name = name
  }
  @cacherDes(cacher, ({ name: personName }, methodName) => personName + ':' + methodName)
  async eat () {
    return new Promise(resolve => {
      setTimeout(() => {
        resolve(this.name + ' eat: '+ Math.random())
      }, 2000)
    })
  }
}

const personA = new Person('a')

jest.setTimeout(1000 * 60)

/* eslint-env jest */
describe('cacher', () => {
  it('eat', async () => {
    let startAt = Date.now()
    let ret = await personA.eat()
    expect(ret).toMatch(/^a eat: /)
    expect(Date.now() - startAt).toBeGreaterThanOrEqual(2000)
    startAt = Date.now()
    let ret2 = await personA.eat()
    expect(ret2).toMatch(/^a eat: /)
    expect(ret).toEqual(ret2)
    expect(Date.now() - startAt).toBeLessThan(1000)
  })
})</code></pre></article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="CacheBase.html">CacheBase</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Dec 12 2018 15:02:29 GMT+0800 (GMT+08:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>